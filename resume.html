<!DOCTYPE html>
<html lang="en">
<head>
  <link id="designStylesheet" rel="stylesheet" href="designer.css" />
  <meta charset="UTF-8">
  <title>Generated Resume</title>

  <script>
    const resumeData = JSON.parse(localStorage.getItem("resumeData"));
    const stylesheet = document.getElementById("designStylesheet");
    if (resumeData && resumeData.design) {
      stylesheet.href = resumeData.design + ".css"; // load the selected CSS
    }
  </script>
  <style>
    #downloadPDF {
      margin: 20px;
      padding: 12px 28px;
      background: #0072ff;
      color: #fff;
      border: none;
      border-radius: 20px;
      font-size: 1.05em;
      font-weight: 600;
      letter-spacing: 0.5px;
      box-shadow: 0 2px 8px rgba(0,114,255,0.10);
      cursor: pointer;
    }
  </style> 

</head>
<body>
  <!-- Download as PDF Button -->
  <button id="downloadPDF" style="margin:20px;">Download as PDF</button>

  <div class="container">
      <div class="sidebar">
          <section class="resume__section">
          <p class="resume__contact" id="rContact"></p>
          <h2>Skills</h2>
          <ul id="rSkills" class="resume__skills"></ul>
          </section>
      </div>

      <div class="resume">
          <header class="resume__header">
          <h1 id="rFullName" class="resume__name"></h1>
          </header>

          <section class="resume__section">
            <h2>Professional Experience</h2>
            <div class="experience">
              <h3 id="rJobTitle" class="experience__title"></h3>
              <p><strong>Company:</strong> <span id="rCompanyName"></span></p>
              <p id="rWorkDescription" class="experience__description"></p>
            </div>
          </section>

          <section class="resume__section">
            <h2>Education</h2>
            <div class="education">
              <p><strong>Degree:</strong> <span id="rDegree"></span></p>
              <p><strong>University:</strong> <span id="rUniversity"></span></p>
              <p id="rEducationDescription"></p>
            </div>
          </section>

          <section class="resume__section">
            <h2>Projects</h2>
            <div class="project">
              <p><strong>Title:</strong> <span id="rProjectTitle"></span></p>
              <p id="rProjectDescription"></p>
              <p><strong>Link:</strong> <a id="rProjectLink" href="#" target="_blank"></a></p>
            </div>
          </section>

          <section class="resume__section">
            <h2>Certifications</h2>
            <div class="certification">
              <p><strong>Title:</strong> <span id="rCertificationTitle"></span></p>
              <p id="rCertificationDetails"></p>
            </div>
          </section>
      </div>
  </div>
<script src="resume.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
<script>
document.getElementById('downloadPDF').addEventListener('click', function () {
  const element = document.querySelector('.container');
  const opt = {
    margin:       0,
    filename:     'resume.pdf',
    image:        { type: 'jpeg', quality: 0.98 },
    html2canvas:  { scale: 2 },
    jsPDF:        { unit: 'in', format: 'a4', orientation: 'portrait' }
  };
  html2pdf().set(opt).from(element).save();
});
</script>
</body>
</html>